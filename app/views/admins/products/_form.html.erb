

<%= simple_form_for(product, url: admins_products_path, method: product.new_record? ? :post : :patch) do |form| %>

  <% if product.errors.any? %>
    <div style="color: red">
      <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% product.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <%= form.input :name %>
  <%= form.input :price %>
  <%= form.input :in_stock %>
  <%= form.input :price_currency %>
  <%= form.input :category %>

  <div>
    <%= form.submit %>
  </div>
<% end %>



<h1>All Current Products</h1>

<table class="table table-bordered table-striped">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Name</th>
      <th scope="col">Price</th>
      <th scope="col">In Stock</th>
      <th scope="col">Price Currency</th>
      <th scope="col">Category</th>
    </tr>
  </thead>
  <tbody>
    <% Product.all.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.price %></td>
        <td><%= product.in_stock ? 'Yes' : 'No' %></td>
        <td><%= product.price_currency %></td>
        <td><%= product.category %></td>
      </tr>
    <% end %>
  </tbody>
</table>
